repos:
  - repo: local
    hooks:
      - id: ruff-format
        name: "Ruff:\t\t\tFormat Python"
        entry: ruff format
        language: system
        types: [python]
        alias: format

      - id: mdformat
        name: "mdformat:\t\tFormat Markdown"
        entry: mdformat
        language: system
        types: [markdown]
        alias: format

      - id: pretty-format-yaml
        name: "Pretty-format-yaml:\tFormat YAML"
        entry: pretty-format-yaml --autofix --indent 2 --offset 2 --preserve-quotes
        language: system
        types: [yaml]
        alias: format

      - id: ruff
        name: "Ruff:\t\t\tLint Python"
        entry: ruff check --fix
        language: system
        types: [python]
        alias: lint

      - id: mypy
        name: "mypy:\t\t\tType-check"
        entry: mypy --config-file=pyproject.toml .
        language: system
        types: [python]
        pass_filenames: false
        alias: lint

      - id: bandit
        name: "Bandit:\t\t\tScan for security issues"
        entry: bandit -q -r src scripts
        language: system
        types: [python]
        pass_filenames: false
        alias: lint

      - id: pytest
        name: "pytest:\t\t\tRun tests with coverage"
        entry: pytest --cov=pdf_toolbox --cov-report=xml --cov-report=term-missing
        language: system
        types: [python]
        pass_filenames: false
        alias: tests

      - id: coverage-per-file
        name: "Check-coverage:\t\tEnforce per-file coverage"
        entry: python scripts/check_coverage.py
        language: system
        types: [python]
        pass_filenames: false
        alias: tests

